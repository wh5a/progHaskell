%
% TeX模板
%
% 中文支持方案: XeTeX + xeCJK
% author: Tony Bai
% 
% compile: 
%     xelatex programming-in-haskell-cn.tex
%

\documentclass[a4paper,11pt,titlepage]{book}                % 五号字

%
% preamble begin {
%

\usepackage{fontspec}
\usepackage{xunicode} 
\usepackage{xltxtra}                                        % xltxtra include the cmd \XeTeX

%\XeTeXinputencoding "GBK"                                   % 本文件采用GBK编码
\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt minus 0.1pt

\usepackage{titletoc}                                       % 控制目录
\usepackage{appendix}                                       % 控制附录

\usepackage[colorlinks,
            linkcolor=black,
            citecolor=black]{hyperref}                      % \url

% 页边距设置
\usepackage[top=1.2in,bottom=1.2in,left=1.2in,right=1in]{geometry}

% 封面设置
\title{Haskell程序设计}
\author{著：Graham Hutton\\
        译：Tony Bai\footnote{\url{http://bigwhite.blogbus.com}}}
\date{October, 2010}

% 页眉页脚设置
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}                                                  % 清空页眉页脚
\fancyhead[LE,RO]{\thepage}                                 % 偶数页左,奇数页右
\fancyhead[RE]{\leftmark}                                   % 偶数页右
\fancyhead[LO]{\rightmark}                                  % 奇数页左
\fancypagestyle{plain}{
\fancyhf{}                                                  % 重定义plain页面样式
\renewcommand{\headrulewidth}{0pt}
}
\renewcommand\chaptermark[1]{\markboth{\chaptername~ #1}{}}
\renewcommand\sectionmark[1]{\markright{\thesection~ #1}}

% 行距
\renewcommand{\baselinestretch}{1.25}

% 章节设置
\usepackage{titlesec} 
\titleformat{\chapter}{\centering\huge}{第\thechapter{}章}{1em}{\textbf}

% xeCJK设置
\usepackage[slantfont, boldfont, CJKaddspaces]{xeCJK}
\setmainfont{Times New Roman}                                % view the font list through the cmd "fc-list :lang=en"
\setCJKmainfont{SimSun}                                      % view the font list through the cmd "fc-list :lang=zh"
\setCJKfamilyfont{song}{SimSun}
\setsansfont{AR PL UKai CN}

% 重定义设置
\renewcommand{\chaptername}{第{\thechapter}章}
\renewcommand{\contentsname}{目~录}
\renewcommand{\indexname}{索引}
\renewcommand{\listfigurename}{插图目录}
\renewcommand{\listtablename}{表格目录}
\renewcommand{\figurename}{图}
\renewcommand{\tablename}{表}
\renewcommand{\appendixname}{附录}
\renewcommand{\appendixpagename}{附录}
\renewcommand{\appendixtocname}{附录}
%\renewcommand\refname{参考文献}

\usepackage[fleqn]{amsmath}                                 % 

%
% } preamble end
%


%
% body begin {
%

\begin{document}

\maketitle                                                  % 生成title

\include{half_title}                                        % half_title
\include{copyright}                                         % 版权声明
\include{preface}                                           % 序言
\include{tranlator_preface}                                 % 译者序
\include{english_chinese}                                   % 中英文对照表

\tableofcontents                                            % 生成目录
\setcounter{tocdepth}{3}                                    % 设置目录深度

\include{introduction}                                      % 第一章 导 言
\include{first_steps}                                       % 第二章 第一步
\include{types_and_classes}                                 % 第三章 类型与类

\end{document}

%
% } body end
%
